# XScript 範例搜尋索引（AI 專用）

> **用途：** 讓 AI 機器人能快速找到相關範例  
> **更新：** 2026-02-08  
> **範例總數：** 200+ 個官方範例

---

## 🔍 如何使用此索引

### AI 機器人使用方式

當用戶請求撰寫 XS 腳本時，按以下步驟使用此索引：

1. **識別腳本類別**（指標/交易/選股/警示/函數）
2. **識別關鍵技術/需求**（例如：均線、KD、停損、rank 等）
3. **在下方索引中搜尋關鍵字**
4. **找到相關範例路徑**
5. **使用 view_file 讀取範例**
6. **參考範例結構撰寫程式碼**

### 搜尋技巧

- 使用 Ctrl+F 搜尋關鍵字
- 每個範例都有「關鍵字」標籤
- 每個範例都有「學習重點」說明

---

## 📊 指標腳本範例索引

### 基礎技術指標

| 範例名稱    | 路徑                                                       | 關鍵字              | 學習重點                     |
| ----------- | ---------------------------------------------------------- | ------------------- | ---------------------------- |
| KD 隨機指標 | `references/xscript_preset/指標/XQ技術指標/KD 隨機指標.xs` | KD, RSV, Stochastic | 經典 KD 指標，學習 plot 用法 |
| MACD        | `references/xscript_preset/指標/XQ技術指標/MACD.xs`        | MACD, DIF, OSC      | MACD 指標，學習多條線繪製    |
| BB指標      | `references/xscript_preset/指標/技術指標/BB指標.xs`        | 布林通道, 標準差    | 布林通道，學習波動指標       |
| RSI         | `references/xscript_preset/指標/XQ技術指標/RSI.xs`         | RSI, 相對強弱       | RSI 指標，學習超買超賣       |
| DMI         | `references/xscript_preset/指標/技術指標/DMI.xs`           | DMI, ADX, 趨向      | 趨向指標，學習多空判斷       |

### 跨頻率指標（重要）

| 範例名稱   | 路徑                                                      | 關鍵字           | 學習重點                   |
| ---------- | --------------------------------------------------------- | ---------------- | -------------------------- |
| 分鐘與日KD | `references/xscript_preset/指標/跨頻率指標/分鐘與日KD.xs` | 跨頻率, GetField | ⭐ 如何在分鐘線引用日線 KD |
| 週KD       | `references/xscript_preset/指標/跨頻率指標/週KD.xs`       | 週線, 跨頻率     | 週線 KD 指標實作           |

### 進階指標

| 範例名稱         | 路徑                                                          | 關鍵字           | 學習重點       |
| ---------------- | ------------------------------------------------------------- | ---------------- | -------------- |
| 股性綜合分數指標 | `references/xscript_preset/指標/技術指標/股性綜合分數指標.xs` | 多維度, 評分系統 | 多指標綜合評分 |
| 波動率指標       | `references/xscript_preset/指標/技術指標/波動率指標.xs`       | 波動率, ATR      | 市場波動度量測 |
| 動量指標         | `references/xscript_preset/指標/技術指標/動量指標.xs`         | 動量, Momentum   | 價格動能分析   |

---

## 💼 交易腳本範例索引

### 基本語法（必讀）

| 範例名稱                        | 路徑                                                                               | 關鍵字                 | 學習重點                       |
| ------------------------------- | ---------------------------------------------------------------------------------- | ---------------------- | ------------------------------ |
| 01-SetPosition                  | `references/xscript_preset/自動交易/0-基本語法/01-SetPosition.xs`                  | SetPosition, Position  | ⭐ 必讀：Position 概念完整說明 |
| 03-Filled                       | `references/xscript_preset/自動交易/0-基本語法/03-Filled.xs`                       | Filled, 實際部位       | ⭐ 必讀：Filled 函數詳解       |
| 07-Position跟Filled的異動時機點 | `references/xscript_preset/自動交易/0-基本語法/07-Position跟Filled的異動時機點.xs` | Position, Filled, 時機 | ⭐ 必讀：核心概念理解          |

### 停損停利

| 範例名稱                          | 路徑                                                                                 | 關鍵字                     | 學習重點              |
| --------------------------------- | ------------------------------------------------------------------------------------ | -------------------------- | --------------------- |
| 05-FilledAvgPrice以及停損停利範例 | `references/xscript_preset/自動交易/0-基本語法/05-FilledAvgPrice以及停損停利範例.xs` | 停損, 停利, FilledAvgPrice | 🎯 實戰：停損停利實作 |

### 進階策略

| 範例名稱                   | 路徑                                                                          | 關鍵字             | 學習重點     |
| -------------------------- | ----------------------------------------------------------------------------- | ------------------ | ------------ |
| 04-SetPosition範例#4(追價) | `references/xscript_preset/自動交易/0-基本語法/04-SetPosition範例#4(追價).xs` | 追價, AddSpread    | 追價策略實作 |
| 04-SetPosition範例#5(加碼) | `references/xscript_preset/自動交易/0-基本語法/04-SetPosition範例#5(加碼).xs` | 加碼, Position加減 | 加碼邏輯實作 |

### 技術分析策略

請查看 `references/xscript_preset/自動交易/常見技術分析/` 資料夾，包含：

- 均線策略（黃金交叉、死亡交叉）
- KD 策略（超買超賣、背離）
- MACD 策略（DIF 交叉、柱狀圖）
- 布林通道策略（突破、反轉）

---

## 📈 選股腳本範例索引

### 基本範例（必讀）

| 範例名稱   | 路徑                                                      | 關鍵字                 | 學習重點                  |
| ---------- | --------------------------------------------------------- | ---------------------- | ------------------------- |
| \_基本範例 | `references/xscript_preset/選股/00.語法範例/_基本範例.xs` | ret, OutputField, 基礎 | ⭐ 必讀：選股腳本基礎結構 |

### 技術指標選股

| 範例名稱                  | 路徑                                                                      | 關鍵字        | 學習重點     |
| ------------------------- | ------------------------------------------------------------------------- | ------------- | ------------ |
| N期股價趨勢向上           | `references/xscript_preset/選股/00.語法範例/N期股價趨勢向上.xs`           | 趨勢, 斜率    | 價格趨勢判斷 |
| 收盤價近N期漲幅大於X%以上 | `references/xscript_preset/選股/00.語法範例/收盤價近N期漲幅大於X%以上.xs` | 漲幅, 百分比  | 漲跌幅過濾   |
| 股價大於近N期平均         | `references/xscript_preset/選股/00.語法範例/股價大於近N期平均.xs`         | 均線, Average | 均線篩選     |

### 基本面選股

| 範例名稱        | 路徑                                                            | 關鍵字                            | 學習重點            |
| --------------- | --------------------------------------------------------------- | --------------------------------- | ------------------- |
| EPS連續N季成長  | `references/xscript_preset/選股/00.語法範例/EPS連續N季成長.xs`  | EPS, 成長, 季報                   | 盈餘成長篩選        |
| 本益比小於X倍   | `references/xscript_preset/選股/00.語法範例/本益比小於X倍.xs`   | 本益比, PE, 估值                  | 本益比篩選          |
| 月營收創N期新高 | `references/xscript_preset/選股/00.語法範例/月營收創N期新高.xs` | 營收, 創新高, GetFieldStartOffset | 🎯 營收創高（重要） |

### 專題選股資料夾

- **04.價量選股**：價量關係、量增價漲
- **06.籌碼選股**：法人買超、融資券
- **07.月營收選股**：營收成長、創新高
- **08.財報選股**：EPS、ROE、毛利率
- **10.價值投資**：深度價值分析
- **11.選股機器人**：綜合選股系統

---

## 🚨 警示腳本範例索引

### 語法範例

請查看 `references/xscript_preset/警示/!語法範例/` 資料夾

### 專題警示資料夾

- **1.籌碼監控**：大單追蹤、法人買超監控
- **2.市場常用語**：常用警示條件
- **3.出場常用警示**：停損、停利警示
- **技術分析**：KD、MACD 警示
- **當沖交易型**：當沖監控策略
- **盤中常用**：盤中即時監控

---

## 🔧 函數腳本範例索引

### 功能類別

| 類別      | 資料夾路徑                                  | 包含內容          |
| --------- | ------------------------------------------- | ----------------- |
| Array函數 | `references/xscript_preset/函數/Array函數/` | 陣列操作函數      |
| 技術指標  | `references/xscript_preset/函數/技術指標/`  | 封裝好的指標函數  |
| 跨頻率    | `references/xscript_preset/函數/跨頻率/`    | 跨頻率輔助函數    |
| 期權相關  | `references/xscript_preset/函數/期權相關/`  | BS 模型、希臘字母 |
| 統計分析  | `references/xscript_preset/函數/統計分析/`  | 數學統計函數      |
| 趨勢分析  | `references/xscript_preset/函數/趨勢分析/`  | 趨勢判斷函數      |

---

## 🎯 常見需求快速查找

### 需求：我想學習均線策略

**指標腳本：**

- 查找 `references/xscript_preset/指標/XQ技術指標/` 中的均線相關指標

**交易腳本：**

- 查找 `references/xscript_preset/自動交易/常見技術分析/` 中的均線策略

**選股腳本：**

- 使用範例：`股價大於近N期平均.xs`

### 需求：我想學習 KD 指標

**指標腳本：**

- 必讀：`KD 隨機指標.xs`
- 進階：`快速KD 隨機指標.xs`
- 跨頻率：`分鐘與日KD.xs`、`週KD.xs`

**交易腳本：**

- 查找技術分析資料夾中的 KD 策略

**警示腳本：**

- 查找技術分析資料夾中的 KD 警示

### 需求：我想學習停損停利

**交易腳本：**

- 必讀：`05-FilledAvgPrice以及停損停利範例.xs`
- 參考：出場方式資料夾

**警示腳本：**

- 查找 `3.出場常用警示/` 資料夾

### 需求：我想學習跨頻率

**指標腳本：**

- ⭐ 必讀：`分鐘與日KD.xs`
- 參考：`跨頻率指標` 資料夾所有範例

**函數腳本：**

- 查找 `跨頻率` 資料夾

### 需求：我想學習 rank 排行

**選股腳本：**

- 查閱官方文件：[排行語法教學](https://www.xq.com.tw/lesson/xspractice/%E6%8E%92%E8%A1%8C%E8%AA%9E%E6%B3%95/)
- 參考：選股機器人資料夾中的 rank 應用

### 需求：我想學習 Tick 數據

**警示腳本：**

- 查找 `!語法範例/` 資料夾
- 參考：籌碼監控、大單追蹤相關範例

---

## 📖 AI 學習建議

### 第一次使用（用戶是初學者）

1. **先讀基本範例**
   - 指標：`KD 隨機指標.xs`
   - 交易：`01-SetPosition.xs`、`03-Filled.xs`
   - 選股：`_基本範例.xs`

2. **理解核心概念**
   - Position vs Filled（交易）
   - plot 用法（指標）
   - ret vs OutputField（選股）
   - retMSG（警示）

3. **從簡單範例開始**
   - 避免一開始就參考複雜範例
   - 先理解基礎結構再擴展

### 進階使用（用戶有經驗）

1. **直接查找相關範例**
   - 使用本索引的關鍵字搜尋
   - 找到最相關的範例參考

2. **組合多個概念**
   - 參考多個範例組合成新策略
   - 注意不同範例的兼容性

3. **參考進階資料夾**
   - Algo 策略委託（交易）
   - 選股機器人（選股）
   - 期權相關（函數）

---

## ⚡ 快速參考表

### 當用戶說...

| 用戶需求                   | 推薦範例路徑                                               | 關鍵 Skill          |
| -------------------------- | ---------------------------------------------------------- | ------------------- |
| "幫我寫一個 KD 指標"       | `指標/XQ技術指標/KD 隨機指標.xs`                           | indicator_script    |
| "幫我寫一個均線策略"       | `自動交易/常見技術分析/均線*.xs`                           | trading_script      |
| "幫我選出營收創新高的股票" | `選股/07.月營收選股/`                                      | stock_picker_script |
| "幫我監控大單"             | `警示/1.籌碼監控/`                                         | alert_script        |
| "幫我寫一個 MACD 函數"     | `函數/技術指標/MACD*.xs`                                   | function_script     |
| "我要加入停損停利"         | `自動交易/0-基本語法/05-FilledAvgPrice以及停損停利範例.xs` | trading_script      |
| "分鐘線要引用日線數據"     | `指標/跨頻率指標/分鐘與日KD.xs`                            | indicator_script    |

---

**如有疑問，請優先查閱官方文件與 skills 說明。**
